func putchar(c: i8) -> void;

struct string {
    data: i8*;
    size: i32;
}

func print(str: struct string*) -> void {
    for (let i = 0; i < str->size; i = i + 1)
        putchar(str->data[i]);
    return;
}

func main() -> i32 {
    let str: struct string;
    str.data = "Hello world!\n";
    str.size = 1;

    let p = &str;
    p->size = 13;

    print(&str);
    return 0;
}